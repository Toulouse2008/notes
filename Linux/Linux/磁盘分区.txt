MBR是Master Boot Record的缩写，它位于硬盘的第一个扇区，512Byte。对于使用BIOS启动的计算机，
BIOS在完成POST和初始化之后，根据CMOS中设定的启动顺序选择引导设备。如果引导设备设置为硬盘，那么
BIOS就会去读取硬盘的第一个扇区的这512个byte。这512个byte里面，包含了一段引导程序，一个分区表
和Magic Number。其结构如下图：

如果这512个字节的最后两个字节（Magic Number）是0x55和0xAA，表明这个设备可以用于启动；如果不
是，表明设备不能用于启动，控制权于是被转交给"启动顺序"中的下一个设备。

因此，MBR包含三个部分：
（1） 第1-446字节：调用操作系统的机器码。
（2） 第447-510字节：分区表（Partition table）。
（3） 第511-512字节：主引导记录签名（0x55和0xAA）。

分区表的长度只有64个字节，里面又分成四项，每项16个字节。所以，一个硬盘最多只能分四个一
级分区，又叫做"主分区"。每个主分区的16个字节，由6个部分组成：
（1） 第1个字节：如果为0x80，就表示该主分区是激活分区，控制权要转交给这个分区。四个主分区里面只能有一个是激活。
（2） 第2-4个字节：主分区第一个扇区的物理位置（柱面、磁头、扇区号等等）。
（3） 第5个字节：主分区类型。
（4） 第6-8个字节：主分区最后一个扇区的物理位置。
（5） 第9-12字节：该主分区第一个扇区的逻辑地址。
（6） 第13-16字节：主分区的扇区总数。

最后的四个字节（"主分区的扇区总数"），决定了这个主分区的长度。也就是说，一个主分区的扇区总数最多
不超过2的32次方。如果每个扇区为512个字节，就意味着单个分区最大不超过2TB。再考虑到扇区的逻辑地址
也是32位，所以单个硬盘可利用的空间最大也不超过2TB。如果想使用更大的硬盘，只有2个方法：一是提高每
个扇区的字节数，二是使用GPT。

随着硬盘越来越大，四个主分区已经不够了，需要更多的分区。但是，分区表只有四项，因此规定有且仅有一
个区可以被定义成"扩展分区"（Extended partition）。所谓"扩展分区"，就是指这个区里面又分成多个
区。这种分区里面的分区，就叫做"逻辑分区"（logical partition）。

计算机先读取扩展分区的第一个扇区，叫做"扩展引导记录"（Extended boot record，缩写为EBR）。它
里面也包含一张64字节的分区表，但是最多只有两项（也就是两个逻辑分区）。计算机接着读取第二个逻辑分
区的第一个扇区，再从里面的分区表中找到第三个逻辑分区的位置，以此类推，直到某个逻辑分区的分区表只
包含它自身为止（即只有一个分区项）。因此，扩展分区可以包含无数个逻辑分区。

不过，在MBR只能支持最大2TB分区的情况下，划分过多的逻辑分区毫无意义，多建几个文件夹看起来更加简
单。一般个人使用的电脑，两个分区足以，一个用来装系统，一个用来装各种文件。

如果硬盘很大，比如超过2TB，这时候可以考虑GPT和UEFI来构建系统的启动。BIOS+MBR是过去主流的技术，
现在主流的是UEFI+GPT。现在买的电脑，出厂基本都是UEFI，不过也可以通过设计切换回原来熟悉的BIOS

4个字节最大能表示2的32次方的扇区个数，按每扇区512字节计算，每个分区最大不能超过2TB

MBR分区特点
主引导记录/主引导扇区 MBR(Master Boot Record):
	在硬盘上的三维地址为（柱面，磁头，扇区）＝（0，0，1）
	- 开头的446字节内容特指为“主引导记录”（MBR 引导程序，负责整个系统启动）
	- 其后是4个16字节(64个字节)的“磁盘分区表”(DPT), 在MBR分区表中最多4个主分区
		或者3个主分区＋1个扩展分区，也就是说扩展分区只能有一个，然后可以再细分为多个逻辑分区
	- 以及2字节的结束标志(55AA: 是检验主引导记录是否有效的标志)

    引导扇区是每个分区（Partition）的第一扇区，而主引导扇区是硬盘的第一扇区。它由三个部分组成，
    主引导记录MBR、硬盘分区表DPT和硬盘有效标志。在总共512字节的主引导扇区里MBR占446个字节，
    第二部分是Partition table区（分区表），即DPT，占64个字节，硬盘中分区有多少以及每一分区的
    大小都记在其中。第三部分是magic number，占2个字节，固定为55AA。

UEFI的全称是Unified Extensible Firmware Interface，意即统一可扩展固件接口，它是基于EFI
1.10标准为基础发展而来，值得注意的是在UEFI正式确立之前，Intel就开始积极推进传统BIOS的升级方案，
并最终确立了过渡方案EFI标准

GPT 是Globally Unique Identifier Partition Table，意即GUID分区表，它的推出是和UEFI
BIOS相辅相成的，鉴于MBR的磁盘容量和分区数量已经不能满足硬件发展的需求，GPT首要的任务就是突破了
2.2T分区的限制，最大支持18EB的分区

GPT磁盘分区的基本特点
   GPT磁盘分区结构解决了MBR只能分4个主分区的的缺点，理论上说，GPT磁盘分区结构对分区的数量好像
   是没有限制的。但某些操作系统可能会对此有限制。
   1. 保护MBR
       保护MBR位于GPT磁盘的第一扇区，也就是0号扇区，有磁盘签名，MBR磁盘分区表和结束标志组成，
       没有引导代码。而且分区表内只有一个分区表项，这个表项GPT根本不用，只是为了让系统认为这个
       磁盘是合法的。
    2. GPT头
        GPT头位于GPT磁盘的第二个磁盘，也就是1号扇区，该扇区是在创建GPT磁盘时生成，GPT头会定义分区
        表的起始位置，分区表的结束位置、每个分区表项的大小、分区表项的个数及分区表的校验和等信息
    3、分区表
       分区表位于GPT磁盘的2-33号磁盘，一共占用32个扇区，能够容纳128个分区表项。每个分区表项大
       小为128字节。因为每个分区表项管理一共分区，所以Windows系统允许GPT磁盘创建128个分区。
       每个分区表项中记录着分区的起始，结束地址，分区类型的GUID，分区的名字，分区属性和分区GUID

   4、分区区域
      GPT分区区域就是用户使用的分区，也是用户进行数据存储的区域。分区区域的起始地址和结束
      地址由GPT头定义。

   5、GPT头备份
      GPT头有一个备份，放在GPT磁盘的最后一个扇区，但这个GPT头备份并非完全GPT头备份，某些参数
      有些不一样。复制的时候根据实际情况更改一下即可。

   6.分区表备份
      分区区域结束后就是分区表备份，其地址在GPT头备份扇区中有描述。分区表备份是对分区表32个扇
      区的完整备份。如果分区表被破坏，系统会自动读取分区表备份，也能够保证正常识别分区
